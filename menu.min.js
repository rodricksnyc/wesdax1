// This code can be written much more efficiently for next release version.
const menu = {
    button: document.querySelector(".menu-button"),
    buttonWrapper: document.querySelector(".menu-button__wrapper"),
    menu: document.querySelector(".menu"),
    wrapper: document.querySelector(".menu-wrapper"),
    contactTab: document.querySelector(".menu__contact-tab"),
    contact: document.querySelector(".contact")
};
menu.buttonWrapper.addEventListener("click", toggleMenu), btnClass = document.getElementsByClassName("btn-inquire");
var contactInput = document.getElementsByClassName("contact__input"),
    menuLink = document.getElementsByClassName("menu__link"),
    nfuncCall = 0;

function toggleMenu() {
    menu.button.classList.toggle("menu-button--flipped"), menu.menu.classList.toggle("menu--open"), menu.contactTab.classList.toggle("menu__contact-tab--down"), menu.wrapper.classList.toggle("menu-wrapper--open"), document.querySelector("body").classList.toggle("body--menu-open"), btnClass[0].style.display = nfuncCall % 2 == 0 ? "none" : "block";
    for (var e = menuLink.length - 1; e >= 0; e--) menuLink[e].tabIndex = nfuncCall % 2 == 0 ? 0 : -1;
    document.getElementsByClassName("menu__contact-tab")[0].tabIndex = nfuncCall % 2 == 0 ? 0 : -1, nfuncCall % 2 == 0 ? $(".sign-in-link").hide() : $(".sign-in-link").show(), nfuncCall++
}

function closeContact() {
    for (var e = contactInput.length - 1; e >= 0; e--) contactInput[e].tabIndex = "-1";
    document.getElementsByClassName("contact__textarea")[0].tabIndex = "-1", document.getElementsByClassName("contact__button")[0].tabIndex = "-1", document.getElementsByClassName("contact__close")[0].tabIndex = "-1", document.querySelector(".contact__wrapper").classList.remove("contact__wrapper--active"), btnClass[0].style.display = nfuncCall % 2 == 0 ? "block" : "none", nfuncCall % 2 == 0 ? $(".sign-in-link").show() : $(".sign-in-link").hide()
}

function openContact() {
    for (var e = contactInput.length - 1; e >= 0; e--) contactInput[e].tabIndex = "0";
    document.getElementsByClassName("contact__textarea")[0].tabIndex = "0", document.getElementsByClassName("contact__button")[0].tabIndex = "0", document.getElementsByClassName("contact__close")[0].tabIndex = "0", document.querySelector(".contact__wrapper").classList.add("contact__wrapper--active"), btnClass[0].style.display = "none", $(".sign-in-link").hide()
}
document.querySelector(".contact__close").addEventListener("click", closeContact), document.querySelector(".contact__shade").addEventListener("click", closeContact);
let contactButtons = document.querySelectorAll(".inquire");
for (let e = 0; e < contactButtons.length; e++) contactButtons[e].addEventListener("click", openContact);
for (let e = 0; e < contactButtons.length; e++) contactButtons[e].addEventListener("keypress", openContact);

function attachScrollListeners() {
    var e = 0,
        t = !1;
    window.addEventListener("scroll", function(n) {
        e = pageYOffset, t || (window.requestAnimationFrame(function() {
            checkScroll(e), t = !1
        }), t = !0)
    })
}

function checkScroll(e) {
    let t = document.querySelector(".content--active .tab-box__section--active .tabs");
    e > 5 ? (menu.buttonWrapper.classList.add("menu-button__wrapper--scroll"), t && e / document.querySelector("body").clientWidth * 100 > 11 ? t.classList.add("tabs--scroll") : t && t.classList.remove("tabs--scroll")) : (menu.buttonWrapper.classList.remove("menu-button__wrapper--scroll"), t && t.classList.remove("tabs--scroll"))
}

function reSize() {
    var e = "",
        t = "",
        n = "";
    window.innerHeight < .564 * window.innerWidth && window.innerHeight > .48 * window.innerWidth ? (document.getElementsByTagName("html")[0].style.overflowY = "hidden", n = -(e = .564 * window.innerWidth - window.innerHeight) / 56.4 + "vw", t = e / window.innerHeight, document.getElementById("content_section").style.transform = "scale(" + (1 - t) + ")", document.getElementById("content_section").style.marginTop = n, document.getElementsByClassName("menu-button__wrapper")[0].style.transform = "scale(" + (1 - t) + ")", document.getElementsByClassName("logo")[0].style.transform = "scale(" + (1 - t) + ")", document.getElementsByClassName("logo")[0].style.bottom = "1vw", $(".bg").css({
        height: window.innerHeight + "px"
    })) : (document.getElementsByTagName("html")[0].style.overflowY = "visible", document.getElementById("content_section").style.transform = "scale(1)", document.getElementById("content_section").style.marginTop = 0, document.getElementsByClassName("menu-button__wrapper")[0].style.transform = "scale(1)", document.getElementsByClassName("logo")[0].style.transform = "scale(1)", document.getElementsByClassName("logo")[0].style.top = "52.6vw"), window.innerHeight < .52 * window.innerWidth && window.innerHeight > .48 * window.innerWidth && $(".contact").css({
        transform: "scale(0.9)",
        margin: "-3.2vw -2.2vw"
    })
}
checkScroll(), attachScrollListeners(), reSize();
