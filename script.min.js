var color = '#bee4f2';
var darker = '#3b476d';
var maxParticles = 80;


function draw() {
particlesJS('particles-js', {
  'particles': {
    'number': {
      'value': maxParticles,
      'density': {
        'enable': true,
        'value_area': (maxParticles * 9) * 3
      }
    },
    'color': {
      'value': darker
    },
    'shape': {
      'type': ["circle" ],
      'stroke': {
        'width': 0,
        'color': darker
      },
      'polygon': {
        'nb_sides': 5
      },
      "image": {
        "src": "assets/math2.png",
        "width": 5000,
        "height": 5000
      },
    },
    'opacity': {
      'value': .76,
      'random': false,
      'anim': {
        'enable': false,
        'speed': 1,
        'opacity_min': 1,
        'sync': false
      }
    },
    'size': {
      'value': 5,
      'random': true,
      'anim': {
        'enable': false,
        'speed': 40,
        'size_min': 0.1,
        'sync': false
      }
    },
    'line_linked': {
      'enable': true,
      'distance': 320,
      'color': color,
      'opacity': 1,
      'width': 2
    },
    'move': {
      'enable': true,
      'speed': 2,
      'direction': 'none',
      'random': false,
      'straight': false,
      'out_mode': 'out',
      'bounce': false,
      'attract': {
        'enable': false,
        'rotateX': 600,
        'rotateY': 1200
      }
    }
  },
  "interactivity": {
      "detect_on": "canvas",
      "events": {
        "onhover": {
          "enable": true,
          // "mode": ["grab", "bubble"]
          "mode": "bubble"
        },
        "onclick": {
          "enable": true,
          "mode": "repulse"
        },
        "resize": true
      },
      "modes": {
        "grab": {
          "distance": 800,
          "line_linked": {
            "opacity": 1
          }
        },
        "bubble": {
          "distance": 200,
          "size": 16,
          "duration": 15,
          "opacity": 1,
          "speed": 3
        },
        "repulse": {
          "distance": 500,
          "duration": 0.4
        },
        "push": {
          "particles_nb": 4
        },
        "remove": {
          "particles_nb": 2
        }
      }
    },
  'retina_detect': true

})

}

draw();








// This code can be written much more efficiently for next release version.
var btnClass = document.getElementsByClassName("btn-inquire"),
    modal = document.getElementById("myModal"),
    modalImg0 = document.getElementById("img_00"),
    modalImg1 = document.getElementById("img_01"),
    imageOpened = 0;

function expandImg(e, t) {
    modal.style.display = "block", modalImg0.src = e, imageOpened = 1, document.getElementsByClassName("modal-content")[0].style.width = "60%", document.getElementsByClassName("modal-maps")[0].style.width = "100%", document.getElementsByClassName("menu-button__wrapper")[0].style.display = "none", btnClass[0].style.display = "none"
}
$("#maps_for_hover").on("click", function() {
    expandImg("assets/hover_Map[1].png", "assets/circle_map[2].png")
}), $("#maps_for_hover_img").on("click", function() {
    expandImg("assets/hover_Map[1].png", "assets/circle_map[2].png")
}), $("#maps_for_hover").on("keypress", function() {
    expandImg("assets/hover_Map[1].png", "assets/circle_map[2].png")
}), $("#table_for_hover").on("click", function() {
    expandImg("assets/hover_Table[1].png", "assets/circle_table[3].png")
}), $("#table_for_hover_img").on("click", function() {
    expandImg("assets/hover_Table[1].png", "assets/circle_table[3].png")
}), $("#table_for_hover").on("keypress", function() {
    expandImg("assets/hover_Table[1].png", "assets/circle_table[3].png")
}), $("#charts_for_hover").on("click", function() {
    expandImg("assets/hover_Chart.png", "assets/circle_chart[3].png")
}), $("#charts_for_hover_img").on("click", function() {
    expandImg("assets/hover_Chart.png", "assets/circle_chart[3].png")
}), $("#charts_for_hover").on("keypress", function() {
    expandImg("assets/hover_Chart.png", "assets/circle_chart[3].png")
}), $(".chevronRight").click(function() {
    1 == imageOpened ? (modalImg0.src = "assets/hover_Table[1].png", imageOpened = 2) : 2 == imageOpened ? (modalImg0.src = "assets/hover_Chart.png", imageOpened = 3) : 3 == imageOpened && (modalImg0.src = "assets/hover_Map[1].png", imageOpened = 1)
}), $(".chevronLeft").click(function() {
    1 == imageOpened ? (modalImg0.src = "assets/hover_Chart.png", imageOpened = 3) : 2 == imageOpened ? (modalImg0.src = "assets/hover_Map[1].png", imageOpened = 1) : 3 == imageOpened && (modalImg0.src = "assets/hover_Table[1].png", imageOpened = 2)
}), $(".modal").click(function(e) {
    e.target === $(".modal")[0] && (modal.style.display = "none", document.getElementsByClassName("menu-button__wrapper")[0].style.display = "block", btnClass[0].style.display = "block")
});
var ua = navigator.userAgent.toLowerCase(),
    isSafari = !1;

function safariCheck() {
    -1 != ua.indexOf("safari") && (isSafari = !(ua.indexOf("chrome") > -1))
}
safariCheck();
var span = document.getElementsByClassName("close")[0];
span.onclick = function() {
        modal.style.display = "none", document.getElementsByClassName("menu-button__wrapper")[0].style.display = "block", btnClass[0].style.display = "block"
    },
    function() {
        let e = document.querySelectorAll("div[id]:not(.tab-box__section)");
        for (let t = 0; t < e.length; t++) e[t].setAttribute("data-id", e[t].id), e[t].id = ""
    }();
const pages = {
        home: document.querySelector(".content--home"),
        learn: document.querySelector(".content--learn"),
        data: document.querySelector(".content--data")
    },
    tabs = {
        zeroNull: document.querySelector("#zero-null"),
        oneNull: document.querySelector("#one-null"),
        nullZero: document.querySelector("#null-zero"),
        nullOne: document.querySelector("#null-one")
    },
    fx = {
        home: pages.home.querySelectorAll(".focusable:not(.splash-body)"),
        learn: pages.learn.querySelectorAll(".focusable"),
        data: pages.data.querySelectorAll(".focusable"),
        menu: menu.wrapper.querySelectorAll(".focusable:not(.contact__wrapper)"),
        contact: menu.contact.querySelectorAll(".focusable")
    };
var oldHash = location.hash,
    routing = !1;

function route(e, t) {
    routing = !0, btnClass[0].style.display = "" === e ? "none" : "block", document.getElementsByClassName("menu-button__wrapper")[0].style.display = "" === e ? "none" : "block";
    let a = document.querySelector(".content--active") || pages.home,
        n = "#home",
        s = location.hash.split("/")[1] || "00";
    e.slice(1) === a.getAttribute("data-id") && (a = document.createElement("div"));
    let o = ["content--active"];
    document.getElementsByClassName("hometab_0")[0].tabIndex = "#home" === e ? "0" : "-1", document.getElementsByClassName("hometab_1")[0].tabIndex = "#home" === e ? "0" : "-1", document.getElementsByClassName("image-box__image--one")[0].tabIndex = "#learn" === e ? "0" : "-1", document.getElementsByClassName("image-box__image--two")[0].tabIndex = "#learn" === e ? "0" : "-1", document.getElementsByClassName("image-box__image--three")[0].tabIndex = "#learn" === e ? "0" : "-1", document.getElementsByClassName("white_paper_link")[0].tabIndex = "#learn" === e ? "0" : "-1", document.getElementsByClassName("learntab_0")[0].tabIndex = "#learn" === e ? "0" : "-1", document.getElementsByClassName("learntab_1")[0].tabIndex = "#learn" === e ? "0" : "-1", document.getElementsByClassName("public_data_suite_link")[0].tabIndex = "#learn" === e ? "0" : "-1", document.getElementsByClassName("datatab_2")[0].tabIndex = "#data" === e ? "0" : "-1", document.getElementsByClassName("startup_guide_link")[0].tabIndex = "#data" === e ? "0" : "-1", document.getElementsByClassName("how_WesDaX_can_help_link")[0].tabIndex = "#data" === e ? "0" : "-1", document.getElementsByClassName("datatab_0")[0].tabIndex = "#data" === e ? "0" : "-1", document.getElementsByClassName("datatab_1")[0].tabIndex = "#data" === e ? "0" : "-1";
    for (var l = document.getElementsByClassName("body-piece__image"), i = document.getElementsByClassName("data_11_link"), c = l.length - 1; c >= 0; c--) l[c].tabIndex = "#data" === e ? "0" : "-1";
    for (c = i.length - 1; c >= 0; c--) i[c].tabIndex = "#data" === e ? "0" : "-1";
    switch (document.getElementById("ACS").tabIndex = "#data" === e ? "0" : "-1", document.getElementById("CPS_0").tabIndex = "#data" === e ? "0" : "-1", document.getElementById("CPS_1").tabIndex = "#data" === e ? "0" : "-1", document.getElementById("CCD").tabIndex = "#data" === e ? "0" : "-1", document.getElementById("westat_link").tabIndex = "#learn" === e ? "0" : "-1", e) {
        case "#home":
            a.classList.add("content--down"), o.push("content--down"), pages.home.classList.remove("content--splash"), pages.home.classList.add("content--active"), document.getElementsByClassName("hometab_0")[0].tabIndex = "0", document.getElementsByClassName("hometab_1")[0].tabIndex = "0", document.querySelector(".homepage").style.verticalAlign = isSafari ? "bottom" : "none", n = "#home";
            break;
        case "#learn":
            a.classList.add("content--down"), o.push("content--down"), pages.learn.classList.add("content--active"), n = "#learn", +s[0] ? (tabs.oneNull.classList.add("tab-box__section--active"), tabs.zeroNull.classList.remove("tab-box__section--active")) : (tabs.zeroNull.classList.add("tab-box__section--active"), tabs.oneNull.classList.remove("tab-box__section--active")), document.querySelector(".learntab").style.verticalAlign = isSafari ? "top" : "none";
            break;
        case "#data":
            a.classList.add("content--down"), o.push("content--down"), pages.data.classList.add("content--active"), n = "#data", +s[1] ? (tabs.nullOne.classList.add("tab-box__section--active"), tabs.nullZero.classList.remove("tab-box__section--active")) : (tabs.nullZero.classList.add("tab-box__section--active"), tabs.nullOne.classList.remove("tab-box__section--active")), document.querySelector(".datatab").style.verticalAlign = isSafari ? "top" : "none";
            break;
        default:
            pages.home.classList.add("content--active"), n = "#home"
    }
    menu.wrapper.classList.remove("menu-wrapper--splash"), location.hash = n + "/" + s, window.setTimeout(function() {
        routing = !1;
        for (var e = 0; e < o.length; e++) a.classList.remove(o[e])
    }, 200)
}
let navButtons = document.querySelectorAll(".nav-icons");
for (let e = 0; e < navButtons.length; e++) {
    let t = navButtons[e].getAttribute("data-href");
    navButtons[e].addEventListener("click", function(e) {
        let a = e.currentTarget.getAttribute("data-arg");
        a && setQuery(a), route(t)
    })
}
for (let e = 0; e < navButtons.length; e++) {
    let t = navButtons[e].getAttribute("data-href");
    navButtons[e].addEventListener("keypress", function(e) {
        let a = e.currentTarget.getAttribute("data-arg");
        a && setQuery(a), route(t)
    })
}

function setQuery(e) {
    let t = location.hash.split("/")[1];
    t || (t = "00");
    let a = JSON.parse(e)[0],
        n = JSON.parse(e)[1];
    (t = t.split(""))[0] = "" + (a || t[0]), t[1] = "" + (n || t[1]), t = t.join(""), location.hash = location.hash.split("/")[0] + "/" + t
}
document.querySelector(".splash-body").addEventListener("click", function() {
    route("#home")
}), document.querySelector(".content--splash").addEventListener("click", function() {
    route("#home")
});
let menuLinks = document.querySelectorAll(".menu__link");
for (let e = 0; e < menuLinks.length; e++) {
    let t = menuLinks[e].getAttribute("data-href"),
        a = menuLinks[e].getAttribute("data-arg");
    menuLinks[e].addEventListener("click", function() {
        location.hash != t && (a && setQuery(a), route(t)), toggleMenu()
    })
}

function learnTabImg(e, t, a) {
    a ? t ? ($(".image-box__image--" + e.classList[1].split("--")[1]).find(".image-box__overlay").show(), $(".image-box__image--" + e.classList[1].split("--")[1]).css({
        transform: "scale(1.1)",
        cursor: "pointer",
        zIndex: "10",
        transition: "all .4s"
    })) : ($(".image-box__image--" + e.classList[1].split("--")[1]).css({
        transform: "scale(1)",
        cursor: "pointer",
        zIndex: "0",
        transition: "none"
    }), $(".image-box__image--" + e.classList[1].split("--")[1]).find(".image-box__overlay").hide()) : t ? ($(".image-box__enlarge--" + e.classList[1].split("--")[1]).hide(), $(e).find(".image-box__overlay").show(), $(e).css({
        transform: "scale(1.1)",
        cursor: "pointer",
        zIndex: "10",
        transition: "all .4s"
    })) : ($(e).css({
        transform: "scale(1)",
        cursor: "pointer",
        zIndex: "0",
        transition: "none"
    }), $(".image-box__enlarge--" + e.classList[1].split("--")[1]).show(), $(e).find(".image-box__overlay").hide())
}

function imgHover(e) {
    1 == e ? (document.querySelector(".ACS").src = "assets/ACS_btn[1].jpg", $("#ACS_logo_text").css({
        background: "#00467F"
    })) : 2 == e ? ($("#CPS_logo_text").css({
        background: "#00467F"
    }), document.querySelector(".CPS").src = "assets/CPS_btn[1].jpg") : ($("#CCD_logo_text").css({
        background: "#00467F"
    }), document.querySelector(".CCD").src = "assets/CCD_btn[1].jpg")
}

function imgunHover(e) {
    1 == e ? (document.querySelector(".ACS").src = "assets/ACS_btn_hover[1].jpg", $("#ACS_logo_text").css({
        background: "#c94726"
    })) : 2 == e ? ($("#CPS_logo_text").css({
        background: "#c94726"
    }), document.querySelector(".CPS").src = "assets/CPS_btn_hover[1].jpg") : ($("#CCD_logo_text").css({
        background: "#c94726"
    }), document.querySelector(".CCD").src = "assets/CCD_btn_hover[1].jpg")
}

function showtooltip(e, t, a) {
    $(".data_11_link").html(t), 1 == e ? $(".tooltip").css({
        visibility: "visible",
        top: "21vw",
        right: "35.5vw"
    }) : 2 == e ? $(".tooltip").css({
        visibility: "visible",
        top: "31vw",
        right: "23vw"
    }) : 3 == e ? $(".tooltip").css({
        visibility: "visible",
        top: "40.8vw",
        right: "35vw"
    }) : 4 == e ? $(".tooltip").css({
        visibility: "visible",
        top: "31vw",
        right: "43vw"
    }) : $(".tooltip").css({
        visibility: "visible",
        top: "35vw",
        right: "18vw"
    })
}

function hidetooltip() {
    $(".tooltip").css({
        visibility: "hidden"
    }), $(".tooltip").css({
        visibility: "hidden"
    })
}

function keepFocussed(e) {
    $(e).focus()
}

function resetForm() {
    return document.getElementById("contactForm").reset(), !1
}

function z(e) {
    e.parentNode.lastElementChild.style.backgroundColor = "#245a8b"
}
window.onload = function() {
    let e = location.hash.split("/")[0];
    location.hash.split("/")[1];
    e && route(e), btnClass[0].style.display = "" === e ? "none" : "block", document.getElementsByClassName("menu-button__wrapper")[0].style.display = "" === e ? "none" : "block", document.getElementsByClassName("splash-body")[0].tabIndex = "" === e ? 0 : -1
}, window.onhashchange = function() {
    var e = location.hash;
    if (e === oldHash);
    else if (!routing) {
        let e = location.hash.split("/")[0];
        location.hash.split("/")[1];
        e && route(e)
    }
    oldHash = e
}, $(".image-box__enlarge--one").hover(function() {
    learnTabImg(this, !0, !0)
}, function() {
    learnTabImg(this, !1, !0)
}), $(".image-box__enlarge--two").hover(function() {
    learnTabImg(this, !0, !0)
}, function() {
    learnTabImg(this, !1, !0)
}), $(".image-box__enlarge--three").hover(function() {
    learnTabImg(this, !0, !0)
}, function() {
    learnTabImg(this, !1, !0)
}), $(".image-box__image--one").focus(function() {
    learnTabImg(this, !0, !0)
}), $(".image-box__image--two").focus(function() {
    learnTabImg(this, !0, !0)
}), $(".image-box__image--three").focus(function() {
    learnTabImg(this, !0, !0)
}), $(".image-box__image--one").focusout(function() {
    learnTabImg(this, !1, !0)
}), $(".image-box__image--two").focusout(function() {
    learnTabImg(this, !1, !0)
}), $(".image-box__image--three").focusout(function() {
    learnTabImg(this, !1, !0)
}), $(".image-box__image--one").hover(function() {
    learnTabImg(this, !0)
}, function() {
    learnTabImg(this, !1)
}), $(".image-box__image--two").hover(function() {
    learnTabImg(this, !0)
}, function() {
    learnTabImg(this, !1)
}), $(".image-box__image--three").hover(function() {
    learnTabImg(this, !0)
}, function() {
    learnTabImg(this, !1)
}), $("#contactForm").on("submit", function(e) {
    var t = $(this),
        a = t.serialize();
    $.ajax({
        type: t.attr("method"),
        url: t.attr("action"),
        data: a
    }).done(function() {
        closeContact(), resetForm(), toastr.success("Thank you for contacting WesDaX.<br>Message successfully sent.")
    }).fail(function() {
        toastr.error("An error occurred. Please try again.")
    }), e.preventDefault()
}), $(".form_contact_types div").on("click", function() {
    this.firstElementChild.checked = !0, $(".form_contact_types .contact__type").each(function() {
        this.style.backgroundColor = "transparent"
    }), z(this.firstElementChild)
}), z($(".form_contact_types input[type=radio]:checked")[0]);
// var lX=0,lY=0,x=0,y=0,delay=.03;function moveBg(){x+=(lX-x)*delay,y+=(lY-y)*delay,translate="translate("+x+"px, "+y+"px) scale(1.02)",$(".bg").css({"-webit-transform":translate,"-moz-transform":translate,transform:translate}),window.requestAnimationFrame(moveBg)}$(window).on("mousemove click",function(e){var t=Math.max(-100,Math.min(100,$(window).width()/2-e.clientX)),a=Math.max(-100,Math.min(100,$(window).height()/2-e.clientY));lX=20*t/100,lY=10*a/100}),moveBg();
